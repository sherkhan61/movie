{"version":3,"sources":["features/popular/Popular.jsx"],"names":["Popular","dispatch","useDispatch","results","useSelector","state","popular","currentPage","totalPagesCount","pageSize","useEffect","getResults","onPageChanged","pageNumber","popularActions","setCurrentPage","pages","i","push","className","s","pages__row","role","aria-label","map","p","onClick","type","number","main__row","r","movie__block","row","to","id","alt","src","poster_path","text__block","title","date","release_date"],"mappings":"gGAAA,0EAwFeA,UAjFC,WAGZ,IAAMC,EAAWC,cAEXC,EAAUC,aAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQH,WAC/CI,EAAcH,aAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQC,eAEnDC,GADWJ,aAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQG,YAC9BL,aAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQE,oBAG7DE,qBAAU,WACNT,EAASU,YAAWJ,MACrB,CAACA,IASJ,IAPA,IAAMK,EAAgB,SAACC,GACnBZ,EAASa,IAAeC,eAAeF,IACvCF,YAAWJ,IAIXS,EAAQ,GACHC,EAAI,EAAGA,GAAKT,EAAiBS,IAClCD,EAAME,KAAKD,GAGf,OACI,mCACMd,EAEM,gCACI,qBAAKgB,UAAWC,IAAEC,WAAlB,SACI,qBAAKF,UAAU,iBAAiBG,KAAK,QAAQC,aAAW,cAAxD,SACKP,EAAMQ,KAAI,SAAAC,GACP,OACI,wBAAQC,QAAS,kBAAOd,EAAca,IAAKE,KAAK,SACxCR,UAAU,oBADlB,SACuCM,GADuBA,EAAEG,eAMhF,qBAAKT,UAAWC,IAAES,UAAlB,SACK1B,EAAUA,EAAQqB,KAAI,SAAAM,GACnB,OACI,qBAAKX,UAAWC,IAAEW,aAAlB,SACI,sBAAKZ,UAAWC,IAAEY,IAAlB,UACI,8BACI,cAAC,IAAD,CAASC,GAAI,eAAiBH,EAAEI,GAAhC,SACI,qBAAKC,IAAI,SACJC,IAAG,yCAAoCN,EAAEO,mBAGtD,sBAAKlB,UAAWC,IAAEkB,YAAlB,UACI,qBAAKnB,UAAWC,IAAEmB,MAAlB,SACKT,EAAES,QAEP,qBAAKpB,UAAWC,IAAEoB,KAAlB,SACKV,EAAEW,sBAbkBX,EAAEI,OAmB1C,OAET,qBAAKf,UAAWC,IAAEC,WAAlB,SACI,qBAAKF,UAAU,iBAAiBG,KAAK,QAAQC,aAAW,cAAxD,SACKP,EAAMQ,KAAI,SAAAC,GACP,OACI,wBAAQC,QAAS,kBAAOd,EAAca,IAAKE,KAAK,SACxCR,UAAU,oBADlB,SACuCM,GADuBA,EAAEG,kBAxCxF,cAAC,IAAD","file":"static/js/3.55553b6e.chunk.js","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getResults, popularActions} from \"./modules/actions\";\r\nimport s from \"./Popular.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Preloader} from \"../../ui/preloader/Preloader\";\r\n\r\nconst Popular = () => {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const results = useSelector((state) => state.popular.results);\r\n    const currentPage = useSelector((state) => state.popular.currentPage);\r\n    const pageSize = useSelector((state) => state.popular.pageSize);\r\n    const totalPagesCount = useSelector((state) => state.popular.totalPagesCount);\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getResults(currentPage));\r\n    }, [currentPage])\r\n\r\n    const onPageChanged = (pageNumber) => {\r\n        dispatch(popularActions.setCurrentPage(pageNumber));\r\n        getResults(currentPage);\r\n    }\r\n\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= totalPagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!results ?\r\n                <Preloader/> : (\r\n                    <div>\r\n                        <div className={s.pages__row}>\r\n                            <div className=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\r\n                                {pages.map(p => {\r\n                                    return (\r\n                                        <button onClick={() => (onPageChanged(p))} type=\"button\" key={p.number}\r\n                                                className=\"btn btn-secondary\">{p}</button>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                        <div className={s.main__row}>\r\n                            {results ? results.map(r => {\r\n                                return (\r\n                                    <div className={s.movie__block} key={r.id}>\r\n                                        <div className={s.row}>\r\n                                            <div>\r\n                                                <NavLink to={\"/movieblock/\" + r.id}>\r\n                                                    <img alt=\"poster\"\r\n                                                         src={`https://image.tmdb.org/t/p/w200${r.poster_path}`}/>\r\n                                                </NavLink>\r\n                                            </div>\r\n                                            <div className={s.text__block}>\r\n                                                <div className={s.title}>\r\n                                                    {r.title}\r\n                                                </div>\r\n                                                <div className={s.date}>\r\n                                                    {r.release_date}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            }) : null}\r\n                        </div>\r\n                        <div className={s.pages__row}>\r\n                            <div className=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\r\n                                {pages.map(p => {\r\n                                    return (\r\n                                        <button onClick={() => (onPageChanged(p))} type=\"button\" key={p.number}\r\n                                                className=\"btn btn-secondary\">{p}</button>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Popular"],"sourceRoot":""}